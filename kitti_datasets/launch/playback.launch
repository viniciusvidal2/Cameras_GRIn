<launch>

  <arg name="bag" default="kitti_data_odometry_color_sequence_04"/>
  <arg name="folder" default="/media/$(env USER)/HD/kitti/Odometry_benchmark"/>

  <arg name="avaliar_odom" default="true"/>

  <param name="/use_sim_time" value="true"/>

  <!--tocar o bag com taxa mais lenta-->
  <group if="$(arg avaliar_odom)">
    <node pkg="rosbag" type="play" name="rosbag_play" output="screen" args="$(arg folder)/$(arg bag).bag --clock -r 0.05">
        <remap from="/kitti/camera_color_left/image_rect"  to="/kitti/left/image_rect" />
        <remap from="/kitti/camera_color_right/image_rect" to="/kitti/right/image_rect"/>
        <remap from="/kitti/camera_color_right/camera_info" to="/kitti/right/camera_info"/>
        <remap from="/kitti/camera_color_left/camera_info"  to="/kitti/left/camera_info" />
    </node>
  </group>
  <group unless="$(arg avaliar_odom)">
    <node pkg="rosbag" type="play" name="rosbag_play" output="screen" args="$(arg folder)/$(arg bag).bag --clock -r 0.5">
        <remap from="/kitti/camera_color_left/image_raw"  to="/kitti/left/image_raw" />
        <remap from="/kitti/camera_color_right/image_raw" to="/kitti/right/image_raw"/>
        <remap from="/kitti/camera_color_right/camera_info" to="/kitti/right/camera_info"/>
        <remap from="/kitti/camera_color_left/camera_info"  to="/kitti/left/camera_info" />
    </node>
  </group>

</launch>
